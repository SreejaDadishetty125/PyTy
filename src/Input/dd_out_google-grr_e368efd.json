[
  {
    "project": "google/grr",
    "commit": "e368efd65dbffa6109c76ea603272bfbdad70c51",
    "filename": "grr/client/grr_response_client/unprivileged/communication.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/google-grr/grr/client/grr_response_client/unprivileged/communication.py",
    "file_hunks_size": 9,
    "min_patch_found": false,
    "single_hunk": false,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "grr/client/grr_response_client/unprivileged/communication.py:182:44 Unsupported operand [58]: `+` is not supported for operand types `List[int]` and `Optional[List[int]]`.",
    "message": " `+` is not supported for operand types `List[int]` and `Optional[List[int]]`.",
    "rule_id": "Unsupported operand [58]",
    "warning_line_no": 182,
    "warning_line": "                                            self._extra_file_descriptors)"
  },
  {
    "project": "google/grr",
    "commit": "e368efd65dbffa6109c76ea603272bfbdad70c51",
    "filename": "grr/client/grr_response_client/unprivileged/communication.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/google-grr/grr/client/grr_response_client/unprivileged/communication.py",
    "file_hunks_size": 9,
    "min_patch_found": false,
    "single_hunk": false,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "grr/client/grr_response_client/unprivileged/communication.py:189:49 Unsupported operand [58]: `+` is not supported for operand types `List[int]` and `Optional[List[int]]`.",
    "message": " `+` is not supported for operand types `List[int]` and `Optional[List[int]]`.",
    "rule_id": "Unsupported operand [58]",
    "warning_line_no": 189,
    "warning_line": "            pass_fds=[input_r_fd, output_w_fd] + self._extra_file_descriptors,"
  },
  {
    "project": "google/grr",
    "commit": "e368efd65dbffa6109c76ea603272bfbdad70c51",
    "filename": "grr/client/grr_response_client/unprivileged/communication.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/google-grr/grr/client/grr_response_client/unprivileged/communication.py",
    "file_hunks_size": 9,
    "min_patch_found": false,
    "single_hunk": false,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "grr/client/grr_response_client/unprivileged/communication.py:265:17 Incompatible parameter type [6]: Expected `int` for 1st positional only parameter to call `os.fdopen` but got `Optional[int]`.",
    "message": " Expected `int` for 1st positional only parameter to call `os.fdopen` but got `Optional[int]`.",
    "rule_id": "Incompatible parameter type [6]",
    "warning_line_no": 265,
    "warning_line": "  with os.fdopen(channel.pipe_input, \"rb\", buffering=False) as pipe_input:"
  },
  {
    "project": "google/grr",
    "commit": "e368efd65dbffa6109c76ea603272bfbdad70c51",
    "filename": "grr/client/grr_response_client/unprivileged/communication.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/google-grr/grr/client/grr_response_client/unprivileged/communication.py",
    "file_hunks_size": 9,
    "min_patch_found": false,
    "single_hunk": false,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "grr/client/grr_response_client/unprivileged/communication.py:266:19 Incompatible parameter type [6]: Expected `int` for 1st positional only parameter to call `os.fdopen` but got `Optional[int]`.",
    "message": " Expected `int` for 1st positional only parameter to call `os.fdopen` but got `Optional[int]`.",
    "rule_id": "Incompatible parameter type [6]",
    "warning_line_no": 266,
    "warning_line": "    with os.fdopen(channel.pipe_output, \"wb\", buffering=False) as pipe_output:"
  },
  {
    "project": "google/grr",
    "commit": "e368efd65dbffa6109c76ea603272bfbdad70c51",
    "filename": "grr/client/grr_response_client/unprivileged/filesystem/ntfs_test.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/google-grr/grr/client/grr_response_client/unprivileged/filesystem/ntfs_test.py",
    "file_hunks_size": 5,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "grr/client/grr_response_client/unprivileged/filesystem/ntfs_test.py:321:2 Incompatible attribute type [8]: Attribute `_ntfs_image` declared in class `NtfsWithFileDescriptorSharingTest` has type `BinaryIO` but is used as type `None`.",
    "message": " Attribute `_ntfs_image` declared in class `NtfsWithFileDescriptorSharingTest` has type `BinaryIO` but is used as type `None`.",
    "rule_id": "Incompatible attribute type [8]",
    "warning_line_no": 321,
    "warning_line": "  _ntfs_image: BinaryIO = None",
    "min_patch": [
      {
        "hunk_fit_TFix": false,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": false,
        "source_code": "\n  _ntfs_image: BinaryIO = None\n\n  @classmethod\n  def setUpClass(cls):\n    super().setUpClass()\n    cls._ntfs_image = open(\n        os.path.join(config.CONFIG[\"Test.data_dir\"], \"ntfs.img\"), \"rb\")\n    cls._server = server.CreateFilesystemServer(cls._ntfs_image.fileno())\n    cls._server.Start()\n\n  @classmethod\n  def tearDownClass(cls):\n    cls._server.Stop()\n    cls._ntfs_image.close()\n    super().tearDownClass()\n\n  def setUp(self):\n    super().setUp()\n    stack = contextlib.ExitStack()\n    self.addCleanup(stack.close)\n\n    self._client = stack.enter_context(\n        client.CreateFilesystemClient(self._server.Connect(),\n                                      filesystem_pb2.NTFS,\n                                      client.FileDevice(self._ntfs_image)))\n\n",
        "source_code_len": 762,
        "target_code": "\n  pass\n\n",
        "target_code_len": 9,
        "diff_format": "@@ -320,27 +45,3 @@\n \n-  _ntfs_image: BinaryIO = None\n-\n-  @classmethod\n-  def setUpClass(cls):\n-    super().setUpClass()\n-    cls._ntfs_image = open(\n-        os.path.join(config.CONFIG[\"Test.data_dir\"], \"ntfs.img\"), \"rb\")\n-    cls._server = server.CreateFilesystemServer(cls._ntfs_image.fileno())\n-    cls._server.Start()\n-\n-  @classmethod\n-  def tearDownClass(cls):\n-    cls._server.Stop()\n-    cls._ntfs_image.close()\n-    super().tearDownClass()\n-\n-  def setUp(self):\n-    super().setUp()\n-    stack = contextlib.ExitStack()\n-    self.addCleanup(stack.close)\n-\n-    self._client = stack.enter_context(\n-        client.CreateFilesystemClient(self._server.Connect(),\n-                                      filesystem_pb2.NTFS,\n-                                      client.FileDevice(self._ntfs_image)))\n+  pass\n \n",
        "source_code_with_indent": "\n  _ntfs_image: BinaryIO = None\n\n  @classmethod\n  def setUpClass(cls):\n    <IND>super().setUpClass()\n    cls._ntfs_image = open(\n        os.path.join(config.CONFIG[\"Test.data_dir\"], \"ntfs.img\"), \"rb\")\n    cls._server = server.CreateFilesystemServer(cls._ntfs_image.fileno())\n    cls._server.Start()\n\n  <DED>@classmethod\n  def tearDownClass(cls):\n    <IND>cls._server.Stop()\n    cls._ntfs_image.close()\n    super().tearDownClass()\n\n  <DED>def setUp(self):\n    <IND>super().setUp()\n    stack = contextlib.ExitStack()\n    self.addCleanup(stack.close)\n\n    self._client = stack.enter_context(\n        client.CreateFilesystemClient(self._server.Connect(),\n                                      filesystem_pb2.NTFS,\n                                      client.FileDevice(self._ntfs_image)))\n\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "\n  pass\n\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  },
  {
    "project": "google/grr",
    "commit": "e368efd65dbffa6109c76ea603272bfbdad70c51",
    "filename": "grr/client_builder/grr_response_client_builder/repackers/windows_msi.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/google-grr/grr/client_builder/grr_response_client_builder/repackers/windows_msi.py",
    "file_hunks_size": 14,
    "min_patch_found": false,
    "single_hunk": false,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "grr/client_builder/grr_response_client_builder/repackers/windows_msi.py:193:26 Incompatible parameter type [6]: Expected `str` for 1st positional only parameter to call `str.find` but got `bytes`.",
    "message": " Expected `str` for 1st positional only parameter to call `str.find` but got `bytes`.",
    "rule_id": "Incompatible parameter type [6]",
    "warning_line_no": 193,
    "warning_line": "    pos = self._data.find(CAB_BEGIN)"
  },
  {
    "project": "google/grr",
    "commit": "e368efd65dbffa6109c76ea603272bfbdad70c51",
    "filename": "grr/client_builder/grr_response_client_builder/repackers/windows_msi.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/google-grr/grr/client_builder/grr_response_client_builder/repackers/windows_msi.py",
    "file_hunks_size": 14,
    "min_patch_found": false,
    "single_hunk": false,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "grr/client_builder/grr_response_client_builder/repackers/windows_msi.py:195:41 Incompatible parameter type [6]: Expected `typing.Union[array.array[typing.Any], bytearray, bytes, memoryview, mmap.mmap]` for 2nd positional only parameter to call `struct.unpack` but got `str`.",
    "message": " Expected `typing.Union[array.array[typing.Any], bytearray, bytes, memoryview, mmap.mmap]` for 2nd positional only parameter to call `struct.unpack` but got `str`.",
    "rule_id": "Incompatible parameter type [6]",
    "warning_line_no": 195,
    "warning_line": "      data_length, = struct.unpack(\"<H\", self._data[pos - 2:pos])"
  },
  {
    "project": "google/grr",
    "commit": "e368efd65dbffa6109c76ea603272bfbdad70c51",
    "filename": "grr/client_builder/grr_response_client_builder/repackers/windows_msi.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/google-grr/grr/client_builder/grr_response_client_builder/repackers/windows_msi.py",
    "file_hunks_size": 14,
    "min_patch_found": false,
    "single_hunk": false,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "grr/client_builder/grr_response_client_builder/repackers/windows_msi.py:196:59 Incompatible parameter type [6]: Expected `typing.Union[str, typing.Tuple[str, ...]]` for 1st positional only parameter to call `str.endswith` but got `bytes`.",
    "message": " Expected `typing.Union[str, typing.Tuple[str, ...]]` for 1st positional only parameter to call `str.endswith` but got `bytes`.",
    "rule_id": "Incompatible parameter type [6]",
    "warning_line_no": 196,
    "warning_line": "      is_last = self._data[pos:pos + data_length].endswith(CAB_END)"
  },
  {
    "project": "google/grr",
    "commit": "e368efd65dbffa6109c76ea603272bfbdad70c51",
    "filename": "grr/client_builder/grr_response_client_builder/repackers/windows_msi.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/google-grr/grr/client_builder/grr_response_client_builder/repackers/windows_msi.py",
    "file_hunks_size": 14,
    "min_patch_found": false,
    "single_hunk": false,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "grr/client_builder/grr_response_client_builder/repackers/windows_msi.py:215:38 Unsupported operand [58]: `+` is not supported for operand types `str` and `bytes`.",
    "message": " `+` is not supported for operand types `str` and `bytes`.",
    "rule_id": "Unsupported operand [58]",
    "warning_line_no": 215,
    "warning_line": "    self._data = self._data[:start] + data + self._data[end:]"
  },
  {
    "project": "google/grr",
    "commit": "e368efd65dbffa6109c76ea603272bfbdad70c51",
    "filename": "grr/client_builder/grr_response_client_builder/repackers/windows_msi.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/google-grr/grr/client_builder/grr_response_client_builder/repackers/windows_msi.py",
    "file_hunks_size": 14,
    "min_patch_found": false,
    "single_hunk": false,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "grr/client_builder/grr_response_client_builder/repackers/windows_msi.py:218:4 Incompatible return type [7]: Expected `bytes` but got `str`.",
    "message": " Expected `bytes` but got `str`.",
    "rule_id": "Incompatible return type [7]",
    "warning_line_no": 218,
    "warning_line": "    return self._data"
  }
]