[
  {
    "project": "fbchat-dev/fbchat",
    "commit": "deda3b433d5759311fb8232f1d9b6db23a9d4372",
    "filename": "fbchat/_group.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/fbchat-dev-fbchat/fbchat/_group.py",
    "file_hunks_size": 3,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": true,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "fbchat/_group.py:75:23 Unbound name [10]: Name `admin` is used but not defined in the current scope.",
    "message": " Name `admin` is used but not defined in the current scope.",
    "rule_id": "Unbound name [10]",
    "warning_line_no": 75,
    "warning_line": "        data = {\"add\": admin, \"thread_fbid\": self.id}",
    "min_patch": [
      {
        "hunk_fit_TFix": true,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": false,
        "source_code": "        data = {\"uid\": user_id, \"tid\": self.id}\n        j = self._payload_post(\"/chat/remove_participants/\", data)\n\n    def _admin_status(self, user_ids: Iterable[str], status: bool):\n        data = {\"add\": admin, \"thread_fbid\": self.id}\n\n",
        "source_code_len": 239,
        "target_code": "        data = {\"uid\": user_id, \"tid\": self.id}\n        j = self.session._payload_post(\"/chat/remove_participants/\", data)\n\n    def _admin_status(self, user_ids: Iterable[str], status: bool):\n        data = {\"add\": status, \"thread_fbid\": self.id}\n\n",
        "target_code_len": 248,
        "diff_format": "@@ -71,6 +71,6 @@\n         data = {\"uid\": user_id, \"tid\": self.id}\n-        j = self._payload_post(\"/chat/remove_participants/\", data)\n+        j = self.session._payload_post(\"/chat/remove_participants/\", data)\n \n     def _admin_status(self, user_ids: Iterable[str], status: bool):\n-        data = {\"add\": admin, \"thread_fbid\": self.id}\n+        data = {\"add\": status, \"thread_fbid\": self.id}\n \n",
        "source_code_with_indent": "        data = {\"uid\": user_id, \"tid\": self.id}\n        j = self._payload_post(\"/chat/remove_participants/\", data)\n\n    <DED>def _admin_status(self, user_ids: Iterable[str], status: bool):\n        <IND>data = {\"add\": admin, \"thread_fbid\": self.id}\n\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "        data = {\"uid\": user_id, \"tid\": self.id}\n        j = self.session._payload_post(\"/chat/remove_participants/\", data)\n\n    <DED>def _admin_status(self, user_ids: Iterable[str], status: bool):\n        <IND>data = {\"add\": status, \"thread_fbid\": self.id}\n\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  },
  {
    "project": "fbchat-dev/fbchat",
    "commit": "deda3b433d5759311fb8232f1d9b6db23a9d4372",
    "filename": "fbchat/_group.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/fbchat-dev-fbchat/fbchat/_group.py",
    "file_hunks_size": 3,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": true,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "fbchat/_group.py:122:72 Unbound name [10]: Name `thread_id` is used but not defined in the current scope.",
    "message": " Name `thread_id` is used but not defined in the current scope.",
    "rule_id": "Unbound name [10]",
    "warning_line_no": 122,
    "warning_line": "        data = {\"set_mode\": int(require_admin_approval), \"thread_fbid\": thread_id}",
    "min_patch": [
      {
        "hunk_fit_TFix": true,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": false,
        "source_code": "        \"\"\"\n        data = {\"set_mode\": int(require_admin_approval), \"thread_fbid\": thread_id}\n        j = self.session._payload_post(\"/messaging/set_approval_mode/?dpr=1\", data)\n",
        "source_code_len": 179,
        "target_code": "        \"\"\"\n        data = {\"set_mode\": int(require_admin_approval), \"thread_fbid\": self.id}\n        j = self.session._payload_post(\"/messaging/set_approval_mode/?dpr=1\", data)\n",
        "target_code_len": 177,
        "diff_format": "@@ -121,3 +121,3 @@\n         \"\"\"\n-        data = {\"set_mode\": int(require_admin_approval), \"thread_fbid\": thread_id}\n+        data = {\"set_mode\": int(require_admin_approval), \"thread_fbid\": self.id}\n         j = self.session._payload_post(\"/messaging/set_approval_mode/?dpr=1\", data)\n",
        "source_code_with_indent_exact_match": false,
        "target_code_with_indent_exact_match": false,
        "source_code_with_indent": "\n        data = {\"set_mode\": int(require_admin_approval), \"thread_fbid\": thread_id}\n        j = self.session._payload_post(\"/messaging/set_approval_mode/?dpr=1\", data)\n",
        "target_code_with_indent": "\n        data = {\"set_mode\": int(require_admin_approval), \"thread_fbid\": self.id}\n        j = self.session._payload_post(\"/messaging/set_approval_mode/?dpr=1\", data)\n"
      }
    ]
  },
  {
    "project": "fbchat-dev/fbchat",
    "commit": "deda3b433d5759311fb8232f1d9b6db23a9d4372",
    "filename": "fbchat/_group.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/fbchat-dev-fbchat/fbchat/_group.py",
    "file_hunks_size": 3,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "fbchat/_group.py:135:12 Unbound name [10]: Name `_graphql` is used but not defined in the current scope.",
    "message": " Name `_graphql` is used but not defined in the current scope.",
    "rule_id": "Unbound name [10]",
    "warning_line_no": 135,
    "warning_line": "            _graphql.from_doc_id(\"1574519202665847\", {\"data\": data})",
    "min_patch": [
      {
        "hunk_fit_TFix": false,
        "inside_window": false,
        "delete_only": false,
        "has_suppression": false,
        "source_code": "from ._core import attrs_default, Image\nfrom . import _util, _session, _plan, _thread, _user\nfrom typing import Sequence, Iterable\n",
        "source_code_len": 131,
        "target_code": "from ._core import attrs_default, Image\nfrom . import _util, _session, _graphql, _plan, _thread, _user\nfrom typing import Sequence, Iterable\n",
        "target_code_len": 141,
        "diff_format": "@@ -2,3 +2,3 @@\n from ._core import attrs_default, Image\n-from . import _util, _session, _plan, _thread, _user\n+from . import _util, _session, _graphql, _plan, _thread, _user\n from typing import Sequence, Iterable\n",
        "source_code_with_indent": "from ._core import attrs_default, Image\nfrom . import _util, _session, _plan, _thread, _user\nfrom typing import Sequence, Iterable\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "from ._core import attrs_default, Image\nfrom . import _util, _session, _graphql, _plan, _thread, _user\nfrom typing import Sequence, Iterable\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  },
  {
    "project": "fbchat-dev/fbchat",
    "commit": "deda3b433d5759311fb8232f1d9b6db23a9d4372",
    "filename": "fbchat/_thread.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/fbchat-dev-fbchat/fbchat/_thread.py",
    "file_hunks_size": 7,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "fbchat/_thread.py:243:12 Unbound name [10]: Name `_graphql` is used but not defined in the current scope.",
    "message": " Name `_graphql` is used but not defined in the current scope.",
    "rule_id": "Unbound name [10]",
    "warning_line_no": 243,
    "warning_line": "            _graphql.from_doc_id(\"1860982147341344\", params)",
    "min_patch": [
      {
        "hunk_fit_TFix": false,
        "inside_window": false,
        "delete_only": false,
        "has_suppression": false,
        "source_code": "import attr\nimport datetime\nfrom ._core import attrs_default, Enum, Image\nfrom . import _util, _exception, _session\nfrom typing import MutableMapping, Any, Iterable, Tuple\n",
        "source_code_len": 172,
        "target_code": "import attr\nimport collections\nimport datetime\nfrom ._core import attrs_default, Enum, Image\nfrom . import _util, _exception, _session, _graphql, _attachment, _file, _plan\nfrom typing import MutableMapping, Any, Iterable, Tuple\n",
        "target_code_len": 228,
        "diff_format": "@@ -2,5 +2,6 @@\n import attr\n+import collections\n import datetime\n from ._core import attrs_default, Enum, Image\n-from . import _util, _exception, _session\n+from . import _util, _exception, _session, _graphql, _attachment, _file, _plan\n from typing import MutableMapping, Any, Iterable, Tuple\n",
        "source_code_with_indent": "import attr\nimport datetime\nfrom ._core import attrs_default, Enum, Image\nfrom . import _util, _exception, _session\nfrom typing import MutableMapping, Any, Iterable, Tuple\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "import attr\nimport collections\nimport datetime\nfrom ._core import attrs_default, Enum, Image\nfrom . import _util, _exception, _session, _graphql, _attachment, _file, _plan\nfrom typing import MutableMapping, Any, Iterable, Tuple\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  },
  {
    "project": "fbchat-dev/fbchat",
    "commit": "deda3b433d5759311fb8232f1d9b6db23a9d4372",
    "filename": "fbchat/_thread.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/fbchat-dev-fbchat/fbchat/_thread.py",
    "file_hunks_size": 7,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": true,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "fbchat/_thread.py:247:18 Unbound name [10]: Name `FBchatException` is used but not defined in the current scope.",
    "message": " Name `FBchatException` is used but not defined in the current scope.",
    "rule_id": "Unbound name [10]",
    "warning_line_no": 247,
    "warning_line": "            raise FBchatException(\"Could not fetch thread {}: {}\".format(self.id, j))",
    "min_patch": [
      {
        "hunk_fit_TFix": true,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": false,
        "source_code": "        if j.get(\"message_thread\") is None:\n            raise FBchatException(\"Could not fetch thread {}: {}\".format(self.id, j))\n\n",
        "source_code_len": 131,
        "target_code": "        if j.get(\"message_thread\") is None:\n            raise _exception.FBchatException(\n                \"Could not fetch thread {}: {}\".format(self.id, j)\n            )\n\n",
        "target_code_len": 172,
        "diff_format": "@@ -246,3 +249,5 @@\n         if j.get(\"message_thread\") is None:\n-            raise FBchatException(\"Could not fetch thread {}: {}\".format(self.id, j))\n+            raise _exception.FBchatException(\n+                \"Could not fetch thread {}: {}\".format(self.id, j)\n+            )\n \n",
        "source_code_with_indent": "        if j.get(\"message_thread\") is None:\n            <IND>raise FBchatException(\"Could not fetch thread {}: {}\".format(self.id, j))\n\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "        if j.get(\"message_thread\") is None:\n            <IND>raise _exception.FBchatException(\n                \"Could not fetch thread {}: {}\".format(self.id, j)\n            )\n\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  },
  {
    "project": "fbchat-dev/fbchat",
    "commit": "deda3b433d5759311fb8232f1d9b6db23a9d4372",
    "filename": "fbchat/_thread.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/fbchat-dev-fbchat/fbchat/_thread.py",
    "file_hunks_size": 7,
    "min_patch_found": true,
    "single_hunk": false,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "fbchat/_thread.py:252:12 Unbound name [10]: Name `Message` is used but not defined in the current scope.",
    "message": " Name `Message` is used but not defined in the current scope.",
    "rule_id": "Unbound name [10]",
    "warning_line_no": 252,
    "warning_line": "            Message._from_graphql(self.session, message, read_receipts)",
    "min_patch": [
      {
        "hunk_fit_TFix": false,
        "inside_window": false,
        "delete_only": false,
        "has_suppression": false,
        "source_code": "        \"\"\"\n        # TODO: Return proper searchable iterator\n",
        "source_code_len": 62,
        "target_code": "        \"\"\"\n        from . import _message\n\n        # TODO: Return proper searchable iterator\n",
        "target_code_len": 94,
        "diff_format": "@@ -233,2 +234,4 @@\n         \"\"\"\n+        from . import _message\n+\n         # TODO: Return proper searchable iterator\n",
        "source_code_with_indent_exact_match": false,
        "target_code_with_indent_exact_match": false,
        "source_code_with_indent": "\n        # TODO: Return proper searchable iterator\n",
        "target_code_with_indent": "\n        from . import _message\n\n        # TODO: Return proper searchable iterator\n"
      },
      {
        "hunk_fit_TFix": true,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": false,
        "source_code": "        messages = [\n            Message._from_graphql(self.session, message, read_receipts)\n            for message in j[\"message_thread\"][\"messages\"][\"nodes\"]\n",
        "source_code_len": 161,
        "target_code": "        messages = [\n            _message.Message._from_graphql(self.session, message, read_receipts)\n            for message in j[\"message_thread\"][\"messages\"][\"nodes\"]\n",
        "target_code_len": 170,
        "diff_format": "@@ -251,3 +256,3 @@\n         messages = [\n-            Message._from_graphql(self.session, message, read_receipts)\n+            _message.Message._from_graphql(self.session, message, read_receipts)\n             for message in j[\"message_thread\"][\"messages\"][\"nodes\"]\n",
        "source_code_with_indent": "        messages = [\n            Message._from_graphql(self.session, message, read_receipts)\n            for message in j[\"message_thread\"][\"messages\"][\"nodes\"]\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "        messages = [\n            _message.Message._from_graphql(self.session, message, read_receipts)\n            for message in j[\"message_thread\"][\"messages\"][\"nodes\"]\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  },
  {
    "project": "fbchat-dev/fbchat",
    "commit": "deda3b433d5759311fb8232f1d9b6db23a9d4372",
    "filename": "fbchat/_thread.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/fbchat-dev-fbchat/fbchat/_thread.py",
    "file_hunks_size": 7,
    "min_patch_found": false,
    "single_hunk": false,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "fbchat/_thread.py:388:29 Unbound name [10]: Name `location` is used but not defined in the current scope.",
    "message": " Name `location` is used but not defined in the current scope.",
    "rule_id": "Unbound name [10]",
    "warning_line_no": 388,
    "warning_line": "            \"location_name\": location or \"\","
  },
  {
    "project": "fbchat-dev/fbchat",
    "commit": "deda3b433d5759311fb8232f1d9b6db23a9d4372",
    "filename": "fbchat/_thread.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/fbchat-dev-fbchat/fbchat/_thread.py",
    "file_hunks_size": 7,
    "min_patch_found": false,
    "single_hunk": false,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "fbchat/_thread.py:389:24 Unbound name [10]: Name `ACONTEXT` is used but not defined in the current scope.",
    "message": " Name `ACONTEXT` is used but not defined in the current scope.",
    "rule_id": "Unbound name [10]",
    "warning_line_no": 389,
    "warning_line": "            \"acontext\": ACONTEXT,"
  },
  {
    "project": "fbchat-dev/fbchat",
    "commit": "deda3b433d5759311fb8232f1d9b6db23a9d4372",
    "filename": "fbchat/_thread.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/fbchat-dev-fbchat/fbchat/_thread.py",
    "file_hunks_size": 7,
    "min_patch_found": true,
    "single_hunk": false,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": false,
    "full_warning_msg": "fbchat/_thread.py:407:15 Unbound name [10]: Name `OrderedDict` is used but not defined in the current scope.",
    "message": " Name `OrderedDict` is used but not defined in the current scope.",
    "rule_id": "Unbound name [10]",
    "warning_line_no": 407,
    "warning_line": "        data = OrderedDict([(\"question_text\", question), (\"target_id\", self.id)])",
    "min_patch": [
      {
        "hunk_fit_TFix": false,
        "inside_window": false,
        "delete_only": false,
        "has_suppression": false,
        "source_code": "import attr\nimport datetime\nfrom ._core import attrs_default, Enum, Image\nfrom . import _util, _exception, _session\nfrom typing import MutableMapping, Any, Iterable, Tuple\n",
        "source_code_len": 172,
        "target_code": "import attr\nimport collections\nimport datetime\nfrom ._core import attrs_default, Enum, Image\nfrom . import _util, _exception, _session, _graphql, _attachment, _file, _plan\nfrom typing import MutableMapping, Any, Iterable, Tuple\n",
        "target_code_len": 228,
        "diff_format": "@@ -2,5 +2,6 @@\n import attr\n+import collections\n import datetime\n from ._core import attrs_default, Enum, Image\n-from . import _util, _exception, _session\n+from . import _util, _exception, _session, _graphql, _attachment, _file, _plan\n from typing import MutableMapping, Any, Iterable, Tuple\n",
        "source_code_with_indent": "import attr\nimport datetime\nfrom ._core import attrs_default, Enum, Image\nfrom . import _util, _exception, _session\nfrom typing import MutableMapping, Any, Iterable, Tuple\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "import attr\nimport collections\nimport datetime\nfrom ._core import attrs_default, Enum, Image\nfrom . import _util, _exception, _session, _graphql, _attachment, _file, _plan\nfrom typing import MutableMapping, Any, Iterable, Tuple\n",
        "target_code_with_indent_exact_match": true
      },
      {
        "hunk_fit_TFix": true,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": false,
        "source_code": "        # another endpoint, please do suggest it ;)\n        data = OrderedDict([(\"question_text\", question), (\"target_id\", self.id)])\n\n",
        "source_code_len": 135,
        "target_code": "        # another endpoint, please do suggest it ;)\n        data = collections.OrderedDict(\n            [(\"question_text\", question), (\"target_id\", self.id)]\n        )\n\n",
        "target_code_len": 169,
        "diff_format": "@@ -406,3 +411,5 @@\n         # another endpoint, please do suggest it ;)\n-        data = OrderedDict([(\"question_text\", question), (\"target_id\", self.id)])\n+        data = collections.OrderedDict(\n+            [(\"question_text\", question), (\"target_id\", self.id)]\n+        )\n \n",
        "source_code_with_indent": "        # another endpoint, please do suggest it ;)\n        data = OrderedDict([(\"question_text\", question), (\"target_id\", self.id)])\n\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "        # another endpoint, please do suggest it ;)\n        data = collections.OrderedDict(\n            [(\"question_text\", question), (\"target_id\", self.id)]\n        )\n\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  }
]