[
  {
    "project": "pytorch/elastic",
    "commit": "aa8feacdfb089a304877e3fbce8c01a5e7050730",
    "filename": "test/agent/server/api_test.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/pytorch-elastic/test/agent/server/api_test.py",
    "file_hunks_size": 1,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": true,
    "full_warning_msg": "test/agent/server/api_test.py:100:4 Inconsistent override [15]: `test.agent.server.api_test.TestAgent._monitor_workers` overrides method defined in `SimpleElasticAgent` inconsistently. Returned type `WorkerState` is not a subtype of the overridden return `MonitorResult`.",
    "message": " `test.agent.server.api_test.TestAgent._monitor_workers` overrides method defined in `SimpleElasticAgent` inconsistently. Returned type `WorkerState` is not a subtype of the overridden return `MonitorResult`.",
    "rule_id": "Inconsistent override [15]",
    "warning_line_no": 100,
    "warning_line": "    def _monitor_workers(self, worker_group: WorkerGroup) -> WorkerState:",
    "min_patch": [
      {
        "hunk_fit_TFix": true,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": true,
        "source_code": "\n    def _monitor_workers(self, worker_group: WorkerGroup) -> WorkerState:\n",
        "source_code_len": 75,
        "target_code": "\n    # pyre-fixme[15]: `_monitor_workers` overrides method defined in\n    #  `SimpleElasticAgent` inconsistently.\n    def _monitor_workers(self, worker_group: WorkerGroup) -> WorkerState:\n",
        "target_code_len": 188,
        "diff_format": "@@ -99,2 +99,4 @@\n \n+    # pyre-fixme[15]: `_monitor_workers` overrides method defined in\n+    #  `SimpleElasticAgent` inconsistently.\n     def _monitor_workers(self, worker_group: WorkerGroup) -> WorkerState:\n",
        "source_code_with_indent": "\n    <DED>def _monitor_workers(self, worker_group: WorkerGroup) -> WorkerState:\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "\n    # pyre-fixme[15]: `_monitor_workers` overrides method defined in\n    #  `SimpleElasticAgent` inconsistently.\n    <DED>def _monitor_workers(self, worker_group: WorkerGroup) -> WorkerState:\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  },
  {
    "project": "pytorch/elastic",
    "commit": "aa8feacdfb089a304877e3fbce8c01a5e7050730",
    "filename": "torchelastic/agent/server/api.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/pytorch-elastic/torchelastic/agent/server/api.py",
    "file_hunks_size": 6,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": true,
    "full_warning_msg": "torchelastic/agent/server/api.py:118:8 Incompatible attribute type [8]: Attribute `global_rank` declared in class `Worker` has type `int` but is used as type `None`.",
    "message": " Attribute `global_rank` declared in class `Worker` has type `int` but is used as type `None`.",
    "rule_id": "Incompatible attribute type [8]",
    "warning_line_no": 118,
    "warning_line": "        self.global_rank: int = None",
    "min_patch": [
      {
        "hunk_fit_TFix": true,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": true,
        "source_code": "        #  Global rank is not stable between re-rendezvous.\n        self.global_rank: int = None\n",
        "source_code_len": 97,
        "target_code": "        #  Global rank is not stable between re-rendezvous.\n        # pyre-fixme[8]: Attribute has type `int`; used as `None`.\n        self.global_rank: int = None\n",
        "target_code_len": 164,
        "diff_format": "@@ -117,2 +117,3 @@\n         #  Global rank is not stable between re-rendezvous.\n+        # pyre-fixme[8]: Attribute has type `int`; used as `None`.\n         self.global_rank: int = None\n",
        "source_code_with_indent": "        #  Global rank is not stable between re-rendezvous.\n        self.global_rank: int = None\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "        #  Global rank is not stable between re-rendezvous.\n        # pyre-fixme[8]: Attribute has type `int`; used as `None`.\n        self.global_rank: int = None\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  },
  {
    "project": "pytorch/elastic",
    "commit": "aa8feacdfb089a304877e3fbce8c01a5e7050730",
    "filename": "torchelastic/agent/server/api.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/pytorch-elastic/torchelastic/agent/server/api.py",
    "file_hunks_size": 6,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": true,
    "full_warning_msg": "torchelastic/agent/server/api.py:122:8 Incompatible attribute type [8]: Attribute `world_size` declared in class `Worker` has type `int` but is used as type `None`.",
    "message": " Attribute `world_size` declared in class `Worker` has type `int` but is used as type `None`.",
    "rule_id": "Incompatible attribute type [8]",
    "warning_line_no": 122,
    "warning_line": "        self.world_size: int = None",
    "min_patch": [
      {
        "hunk_fit_TFix": true,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": true,
        "source_code": "        # the world size may change between re-rendezvous.\n        self.world_size: int = None\n",
        "source_code_len": 95,
        "target_code": "        # the world size may change between re-rendezvous.\n        # pyre-fixme[8]: Attribute has type `int`; used as `None`.\n        self.world_size: int = None\n",
        "target_code_len": 162,
        "diff_format": "@@ -121,2 +122,3 @@\n         # the world size may change between re-rendezvous.\n+        # pyre-fixme[8]: Attribute has type `int`; used as `None`.\n         self.world_size: int = None\n",
        "source_code_with_indent": "        # the world size may change between re-rendezvous.\n        self.world_size: int = None\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "        # the world size may change between re-rendezvous.\n        # pyre-fixme[8]: Attribute has type `int`; used as `None`.\n        self.world_size: int = None\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  },
  {
    "project": "pytorch/elastic",
    "commit": "aa8feacdfb089a304877e3fbce8c01a5e7050730",
    "filename": "torchelastic/agent/server/api.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/pytorch-elastic/torchelastic/agent/server/api.py",
    "file_hunks_size": 6,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": true,
    "full_warning_msg": "torchelastic/agent/server/api.py:217:8 Incompatible variable type [9]: ret_vals is declared to have type `Dict[int, typing.Any]` but is used as type `None`.",
    "message": " ret_vals is declared to have type `Dict[int, typing.Any]` but is used as type `None`.",
    "rule_id": "Incompatible variable type [9]",
    "warning_line_no": 217,
    "warning_line": "        ret_vals: Dict[int, Any] = None,",
    "min_patch": [
      {
        "hunk_fit_TFix": true,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": true,
        "source_code": "        state: WorkerState,\n        ret_vals: Dict[int, Any] = None,\n        exceptions: Dict[int, Exception] = None,\n",
        "source_code_len": 118,
        "target_code": "        state: WorkerState,\n        # pyre-fixme[9]: ret_vals has type `Dict[int, typing.Any]`; used as `None`.\n        ret_vals: Dict[int, Any] = None,\n        # pyre-fixme[9]: exceptions has type `Dict[int, Exception]`; used as `None`.\n        exceptions: Dict[int, Exception] = None,\n",
        "target_code_len": 287,
        "diff_format": "@@ -216,3 +218,5 @@\n         state: WorkerState,\n+        # pyre-fixme[9]: ret_vals has type `Dict[int, typing.Any]`; used as `None`.\n         ret_vals: Dict[int, Any] = None,\n+        # pyre-fixme[9]: exceptions has type `Dict[int, Exception]`; used as `None`.\n         exceptions: Dict[int, Exception] = None,\n",
        "source_code_with_indent": "        state: WorkerState,\n        ret_vals: Dict[int, Any] = None,\n        exceptions: Dict[int, Exception] = None,\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "        state: WorkerState,\n        # pyre-fixme[9]: ret_vals has type `Dict[int, typing.Any]`; used as `None`.\n        ret_vals: Dict[int, Any] = None,\n        # pyre-fixme[9]: exceptions has type `Dict[int, Exception]`; used as `None`.\n        exceptions: Dict[int, Exception] = None,\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  },
  {
    "project": "pytorch/elastic",
    "commit": "aa8feacdfb089a304877e3fbce8c01a5e7050730",
    "filename": "torchelastic/agent/server/api.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/pytorch-elastic/torchelastic/agent/server/api.py",
    "file_hunks_size": 6,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": true,
    "full_warning_msg": "torchelastic/agent/server/api.py:218:8 Incompatible variable type [9]: exceptions is declared to have type `Dict[int, Exception]` but is used as type `None`.",
    "message": " exceptions is declared to have type `Dict[int, Exception]` but is used as type `None`.",
    "rule_id": "Incompatible variable type [9]",
    "warning_line_no": 218,
    "warning_line": "        exceptions: Dict[int, Exception] = None,",
    "min_patch": [
      {
        "hunk_fit_TFix": true,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": true,
        "source_code": "        state: WorkerState,\n        ret_vals: Dict[int, Any] = None,\n        exceptions: Dict[int, Exception] = None,\n",
        "source_code_len": 118,
        "target_code": "        state: WorkerState,\n        # pyre-fixme[9]: ret_vals has type `Dict[int, typing.Any]`; used as `None`.\n        ret_vals: Dict[int, Any] = None,\n        # pyre-fixme[9]: exceptions has type `Dict[int, Exception]`; used as `None`.\n        exceptions: Dict[int, Exception] = None,\n",
        "target_code_len": 287,
        "diff_format": "@@ -216,3 +218,5 @@\n         state: WorkerState,\n+        # pyre-fixme[9]: ret_vals has type `Dict[int, typing.Any]`; used as `None`.\n         ret_vals: Dict[int, Any] = None,\n+        # pyre-fixme[9]: exceptions has type `Dict[int, Exception]`; used as `None`.\n         exceptions: Dict[int, Exception] = None,\n",
        "source_code_with_indent": "        state: WorkerState,\n        ret_vals: Dict[int, Any] = None,\n        exceptions: Dict[int, Exception] = None,\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "        state: WorkerState,\n        # pyre-fixme[9]: ret_vals has type `Dict[int, typing.Any]`; used as `None`.\n        ret_vals: Dict[int, Any] = None,\n        # pyre-fixme[9]: exceptions has type `Dict[int, Exception]`; used as `None`.\n        exceptions: Dict[int, Exception] = None,\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  },
  {
    "project": "pytorch/elastic",
    "commit": "aa8feacdfb089a304877e3fbce8c01a5e7050730",
    "filename": "torchelastic/agent/server/api.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/pytorch-elastic/torchelastic/agent/server/api.py",
    "file_hunks_size": 6,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": true,
    "full_warning_msg": "torchelastic/agent/server/api.py:357:4 Inconsistent override [14]: `torchelastic.agent.server.api.SimpleElasticAgent.get_worker_group` overrides method defined in `ElasticAgent` inconsistently. Could not find parameter `role` in overriding signature.",
    "message": " `torchelastic.agent.server.api.SimpleElasticAgent.get_worker_group` overrides method defined in `ElasticAgent` inconsistently. Could not find parameter `role` in overriding signature.",
    "rule_id": "Inconsistent override [14]",
    "warning_line_no": 357,
    "warning_line": "    def get_worker_group(self) -> WorkerGroup:",
    "min_patch": [
      {
        "hunk_fit_TFix": true,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": true,
        "source_code": "\n    def get_worker_group(self) -> WorkerGroup:\n",
        "source_code_len": 48,
        "target_code": "\n    # pyre-fixme[14]: `get_worker_group` overrides method defined in `ElasticAgent`\n    #  inconsistently.\n    def get_worker_group(self) -> WorkerGroup:\n",
        "target_code_len": 155,
        "diff_format": "@@ -356,2 +362,4 @@\n \n+    # pyre-fixme[14]: `get_worker_group` overrides method defined in `ElasticAgent`\n+    #  inconsistently.\n     def get_worker_group(self) -> WorkerGroup:\n",
        "source_code_with_indent": "\n    <DED>def get_worker_group(self) -> WorkerGroup:\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "\n    # pyre-fixme[14]: `get_worker_group` overrides method defined in `ElasticAgent`\n    #  inconsistently.\n    <DED>def get_worker_group(self) -> WorkerGroup:\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  },
  {
    "project": "pytorch/elastic",
    "commit": "aa8feacdfb089a304877e3fbce8c01a5e7050730",
    "filename": "torchelastic/metrics/api.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/pytorch-elastic/torchelastic/metrics/api.py",
    "file_hunks_size": 2,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": true,
    "full_warning_msg": "torchelastic/metrics/api.py:57:38 Incompatible variable type [9]: group is declared to have type `str` but is used as type `None`.",
    "message": " group is declared to have type `str` but is used as type `None`.",
    "rule_id": "Incompatible variable type [9]",
    "warning_line_no": 57,
    "warning_line": "def configure(handler: MetricHandler, group: str = None):",
    "min_patch": [
      {
        "hunk_fit_TFix": true,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": true,
        "source_code": "\ndef configure(handler: MetricHandler, group: str = None):\n",
        "source_code_len": 59,
        "target_code": "\n# pyre-fixme[9]: group has type `str`; used as `None`.\ndef configure(handler: MetricHandler, group: str = None):\n",
        "target_code_len": 114,
        "diff_format": "@@ -56,2 +56,3 @@\n \n+# pyre-fixme[9]: group has type `str`; used as `None`.\n def configure(handler: MetricHandler, group: str = None):\n",
        "source_code_with_indent": "\ndef configure(handler: MetricHandler, group: str = None):\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "\n# pyre-fixme[9]: group has type `str`; used as `None`.\ndef configure(handler: MetricHandler, group: str = None):\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  },
  {
    "project": "pytorch/elastic",
    "commit": "aa8feacdfb089a304877e3fbce8c01a5e7050730",
    "filename": "torchelastic/metrics/api.py",
    "filename_after_commit": "/home/chowyi/TypeAnnotation_Study/GitHub/pytorch-elastic/torchelastic/metrics/api.py",
    "file_hunks_size": 2,
    "min_patch_found": true,
    "single_hunk": true,
    "fit_TFix": false,
    "delete_only_patch": false,
    "has_suppression_all_hunks": true,
    "full_warning_msg": "torchelastic/metrics/api.py:60:8 Incompatible variable type [9]: _default_metrics_handler is declared to have type `NullMetricHandler` but is used as type `MetricHandler`.",
    "message": " _default_metrics_handler is declared to have type `NullMetricHandler` but is used as type `MetricHandler`.",
    "rule_id": "Incompatible variable type [9]",
    "warning_line_no": 60,
    "warning_line": "        _default_metrics_handler = handler",
    "min_patch": [
      {
        "hunk_fit_TFix": true,
        "inside_window": true,
        "delete_only": false,
        "has_suppression": true,
        "source_code": "        global _default_metrics_handler\n        _default_metrics_handler = handler\n",
        "source_code_len": 83,
        "target_code": "        global _default_metrics_handler\n        # pyre-fixme[9]: _default_metrics_handler has type `NullMetricHandler`; used\n        #  as `MetricHandler`.\n        _default_metrics_handler = handler\n",
        "target_code_len": 199,
        "diff_format": "@@ -59,2 +60,4 @@\n         global _default_metrics_handler\n+        # pyre-fixme[9]: _default_metrics_handler has type `NullMetricHandler`; used\n+        #  as `MetricHandler`.\n         _default_metrics_handler = handler\n",
        "source_code_with_indent": "        <IND>global _default_metrics_handler\n        _default_metrics_handler = handler\n",
        "source_code_with_indent_exact_match": true,
        "target_code_with_indent": "        <IND>global _default_metrics_handler\n        # pyre-fixme[9]: _default_metrics_handler has type `NullMetricHandler`; used\n        #  as `MetricHandler`.\n        _default_metrics_handler = handler\n",
        "target_code_with_indent_exact_match": true
      }
    ]
  }
]